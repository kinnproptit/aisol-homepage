{"version":3,"sources":["app/views/Solution2/components/SpeechSynthesis.js","app/Shared/components/Dropdown/DropdownMenuVoice.js","app/assets/download.svg","app/assets/play.svg","app/assets/stop.svg","app/assets/pause.svg"],"names":["SpeechSynthesis","mp3data","onChangeVoice","state","useDispatch","useSelector","audioReducer","useState","audioUrl","setAudio","Sound","status","PLAYING","playStatus","setPlayStatus","setPosition","setSoundComp","text","setText","playing","setPlaying","onFetch","setOnFetch","fetchData","a","voiceId","token","options","method","headers","data","qs","stringify","url","axios","audio","useEffect","console","log","duration","className","Wrapper","FlexContent","Paper","PaperContent","Textarea","onChange","event","target","value","PlayerContainer","CenterDiv","P","Dropdown1","onClick","onLoad","sound","onPlaying","position","autoLoad","muted","MediaPlayer","Img","src","ResumeIcon","PAUSED","PlayIcon","alert","StyledStop","StopIcon","defaultValue","StyledButton","icon","DownloadIcon","isMarginLeft","styled","img","props","div","p","textarea","Button","StyledDropdown","map","id","label","name","selected","setState","menu","key","index","Item","overlay","trigger","to","type","module","exports"],"mappings":"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","file":"static/js/13.bbd140fc.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport Sound from 'react-sound'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport qs from 'qs'\nimport axios from 'axios'\n\nimport {Slider } from 'antd'\n\nimport DownloadIcon from '../../../assets/download.svg'\nimport PlayIcon from '../../../assets/play.svg'\nimport StopIcon from '../../../assets/stop.svg'\nimport ResumeIcon from '../../../assets/pause.svg'\n\nimport Button from '../../../Shared/components/Button/Button'\nimport { DropdownMenuVoice } from '../../../Shared/components/Dropdown/DropdownMenuVoice'\n\nexport const SpeechSynthesis = ({ mp3data, onChangeVoice, state }) => {\n  const dispatch = useDispatch()\n  const audioRedux = useSelector(state => state.audioReducer)\n\n  const [audioUrl, setAudio] = useState('')\n  const [playStatus, setPlayStatus] = useState(Sound.status.PLAYING)\n  const [position, setPosition] = useState(0)\n  const [soundComp, setSoundComp] = useState(null)\n  const [text, setText] = useState('')\n  const [playing, setPlaying] = useState(false)\n  const [onFetch, setOnFetch] = useState(true)\n\n  const fetchData = async () => {\n    const { voiceId, token } = state\n    const options = {\n      method: 'POST',\n      headers: { 'content-type': 'application/x-www-form-urlencoded' },\n      data: qs.stringify({\n        text,\n        voiceId,\n        token\n      }),\n      url: 'http://103.74.122.136:8086/api/v1/path'\n    }\n    const audio = await axios(options)\n    if (audio.data.status === 0) {\n      setAudio(audio.data.data.url)\n    }\n  }\n\n  useEffect(() => {\n    fetchData()\n  }, [])\n\n  const onFetchPlayButton = () => {\n    if (text === '') {\n      alert('Vui lòng nhập nội dung')\n    } else {\n      // setTimeout(() => {\n      setPlaying(!playing)\n      fetchData()\n      setPlayStatus(Sound.status.PLAYING)\n      // }, 1000)\n    }\n  }\n\n  const onClickPlayButton = () => {\n    setPlaying(true)\n    setPlayStatus(Sound.status.PLAYING)\n  }\n\n  const onClickPausedButton = () => {\n    setPlaying(false)\n    setOnFetch(false)\n    setPlayStatus(Sound.status.PAUSED)\n  }\n\n  const onChangeText = event => {\n    setText(event.target.value)\n    setAudio('')\n  }\n\n  console.log(Sound.duration)\n\n  return (\n    <section>\n      <div className='margin-bottom-large'>\n        <h1 className='application__heading text-center margin-bottom-medium advantage__heading'>\n          Trải nghiệm\n        </h1>\n        <Wrapper>\n          <FlexContent className='container'>\n            <Paper>\n              <PaperContent>\n                <Textarea onChange={onChangeText}>\n                  Nội dung trải nghiệm\n                </Textarea>\n              </PaperContent>\n            </Paper>\n            <PlayerContainer className='row'>\n              <CenterDiv className='col-md-5'>\n                <P>Giọng đọc</P>\n                <Dropdown1 data={mp3data} onClick={onChangeVoice} />\n              </CenterDiv>\n              <div className='col-md-4'>\n                <Sound\n                  url={audioUrl}\n                  playStatus={playStatus}\n                  onLoad={sound => {\n                    setSoundComp(sound)\n                  }}\n                  onPlaying={sound => {\n                    setPosition(sound.position)\n                  }}\n                  autoLoad={false}\n                  muted='muted'\n                />\n                <MediaPlayer>\n                  {!playing ? (\n                    onFetch ? (\n                      <Img src={PlayIcon} onClick={onFetchPlayButton} />\n                    ) : (\n                      <Img src={PlayIcon} onClick={onClickPlayButton} />\n                    )\n                  ) : (\n                    <Img src={ResumeIcon} onClick={onClickPausedButton} />\n                  )}\n                  <StyledStop\n                    playing={!playing && onFetch}\n                    src={StopIcon}\n                    onClick={() => {\n                      setPlaying(false)\n                      setOnFetch(true)\n                      setPlayStatus(Sound.status.PAUSED)\n                    }}\n                  />\n                  <Slider defaultValue={30} />\n                </MediaPlayer>\n              </div>\n              <div className='col-md-3'>\n                <StyledButton\n                  text='Tải xuống'\n                  icon={DownloadIcon}\n                  className='btn--red'\n                  isMarginLeft={false}\n                />\n              </div>\n            </PlayerContainer>\n          </FlexContent>\n        </Wrapper>\n      </div>\n    </section>\n  )\n}\n\n\nconst Img = styled.img`\n  cursor: pointer;\n  width: 26px;\n  height: 26px;\n`\nconst StyledStop = styled(Img)`\n  opacity: ${props => (props.playing ? '0.5' : '1')};\n`\n\nconst MediaPlayer = styled.div`\n  background-color: #178ce3;\n  padding: 1rem 4rem;\n  display: grid;\n  grid-template-columns: 24px 24px auto;\n  grid-gap: 16px;\n  align-items: center;\n`\n\nconst CenterDiv = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nconst P = styled.p`\n  margin: 0;\n  margin-right: 1rem;\n`\n\nconst Wrapper = styled.div`\n  font-family: 'Muli', san-serif;\n`\n\nconst FlexContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  margin-bottom: 1em;\n`\n\nconst PlayerContainer = styled.div`\n  margin: 1rem;\n  align-items: center;\n`\n\nconst Paper = styled.div`\n  height: 22rem;\n  width: 100%;\n  position: relative;\n  border-radius: 13px;\n  box-shadow: 0 0 1rem rgba(0, 0, 0, 0.16);\n  background: white;\n`\nconst PaperContent = styled.div`\n  position: absolute;\n  top: 0.5rem;\n  right: 1.5rem;\n  bottom: 0.5rem;\n  left: 1.5rem;\n  background: linear-gradient(transparent, transparent 29px, gray 29px);\n  background-size: 30px 30px;\n  opacity: 0.3;\n`\n\nconst Textarea = styled.textarea`\n  width: 100%;\n  max-width: 100%;\n  height: 100%;\n  max-height: 100%;\n  line-height: 30px;\n  padding: 0 5px;\n  border: 0;\n  outline: 0;\n  background: transparent;\n  color: #000;\n  font-weight: bold;\n  font-size: 16px;\n  box-sizing: border-box;\n  z-index: 1;\n`\n\nconst StyledButton = styled(Button)`\n  justify-content: center;\n  display: flex;\n  width: 100%;\n`\n\nconst StyledDropdown = styled(DropdownMenuVoice)`\n  padding: 1rem 4rem;\n  border-radius: 0.8rem;\n  font-size: 1.8rem;\n  font-family: 'Muli', sans-serif;\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n  background: #b9ccc6;\n  color: #000000;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`\n\nconst Dropdown1 = styled(StyledDropdown)`\n  width: 76%;\n`\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { Menu, Dropdown, Icon } from 'antd'\n\nimport { useState } from '../../../../packages/core'\n\nexport const DropdownMenuVoice = ({\n  data = [],\n  className,\n  onClick\n}) => {\n  const options = data.map(({ id, name }) => ({\n    value: id,\n    label: name\n  }))\n\n  const [state, setState] = useState({\n    selected: options[0].label,\n    id: options[0].value\n  })\n\n  const menu = (\n    <Menu\n      onClick={({ key }) => {\n        setState({ selected: options[key].label })\n        onClick(options[key].value)\n      }}\n    >\n      {options.map(({ label }, index) => {\n        return <Menu.Item key={index}>{label}</Menu.Item>\n      })}\n    </Menu>\n  )\n  return (\n    <Dropdown className={className} overlay={menu} trigger={['click']}>\n        <Link className='ant-dropdown-link' to='#'>\n          {state.selected} <Icon type='down' />\n        </Link>\n    </Dropdown>\n  )\n}\n\n","module.exports = __webpack_public_path__ + \"static/media/download.a21e2fd5.svg\";","module.exports = __webpack_public_path__ + \"static/media/play.522eddc4.svg\";","module.exports = __webpack_public_path__ + \"static/media/stop.d31a38eb.svg\";","module.exports = __webpack_public_path__ + \"static/media/pause.4d5d573d.svg\";"],"sourceRoot":""}