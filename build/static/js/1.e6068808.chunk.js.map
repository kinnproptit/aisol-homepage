{"version":3,"sources":["app/Shared/components/Application/Application.js","app/Shared/components/Button/ButtonOutline.js","app/views/Solution1/SpeechRecognition.js","app/assets/ic_record.png","app/assets/ic_upload.png","app/redux/action-creators/recognition.js","app/views/Solution1/WebSocket.js","app/views/Solution1/SpeechRecognationContainer.js","app/views/Solution1/Solution1.js","app/views/Solution1/index.js","app/assets/giaiphap1_ungdung.png","app/assets/solution2_img1.png","app/assets/solution2_img2.png","app/assets/solution2_img3.png","app/assets/ic_wave.png","app/Shared/components/Advantages/Advantages.js"],"names":["Application","image","sectionTitle","data","className","Div","Img","src","map","index","title","content","subcontent","key","styled","img","div","button","p","createMarkup","htmlString","__html","DangerousHTML","dangerouslySetInnerHTML","ButtonShowing","onRecord","connectedWs","useSelector","state","recognitionReducer","Button","text","icon","iconRecord","textCustom","buttonCustom","onClick","SpeechRecognition","textRedux","useState","Col","Wrapper","Row","input","module","exports","updateAudioData","payload","dispatch","type","Actions","console","log","isStop","recorder","buffer","audioContext","SendDataComponent","recogRedux","useEffect","ws","readyState","WebSocket","OPEN","send","audioData","TestSocket","useDispatch","websocket","API_URL","onopen","onmessage","evt","message","JSON","parse","processJsonResponse","onclose","SocketRecognation","connectWs","setConnectWs","token","record","window","AudioContext","webkitAudioContext","resume","navigator","mediaDevices","getUserMedia","audio","then","stream","audioInput","createMediaStreamSource","createScriptProcessor","onaudioprocess","e","inputBuffer","getChannelData","int16ArrayData","convertFloat32ToInt16","length","sampleRate","i","Math","abs","connect","destination","catch","float32ArrayData","l","Int16Array","min","resp","status","result","hypotheses","transcript_normed","transcript","endsWith","slice","final","SpeechRecognitionContainer","Solution1","AdvantagesData","Ad1","Ad2","Ad3","Fragment","AppImage1","Advantages","AdvantageItem","alt"],"mappings":"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","file":"static/js/1.e6068808.chunk.js","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\n\nexport const Application = ({ image, sectionTitle, data = [] }) => {\n  return (\n    <section className='border--top'>\n      <div className='margin-bottom-large'>\n        <h1 className='application__heading text-center margin-bottom-medium advantage__heading'>\n          {sectionTitle}\n        </h1>\n\n        <div className='container'>\n          <div className='row'>\n            <Div className='col-md-6'>\n              <Img src={image} />\n            </Div>\n            <div className='col-md-6'>\n              <ul className='application__list'>\n                {data.map(({ title, content, subcontent = false }, index) => (\n                  <li className='application__item' key={index}>\n                    <h3 className='application__item__heading text-with-border-left'>\n                      {title}\n                    </h3>\n                    <p className='application__item__description'>\n                      {content}\n                      <br />\n                      {subcontent}\n                    </p>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  )\n}\n\nconst Img = styled.img`\n  width: 100% !important;\n`\nconst Div = styled.div`\n  margin-bottom: 40px\n`","import React from 'react'\nimport styled from 'styled-components'\n\nconst ButtonOutline = ({ icon, text = '', id = 1, classNameCss, buttonCustom,textCustom }) => {\n\n  return (\n    <Wrapper className={`btn btn-outline-secondary btn-ux-outline ${id === 1 ? 'button1' : 'button2'} ${classNameCss}`}>\n      <Row className={`${buttonCustom} row`}>\n        <img src={icon} />\n        <Text className={`${textCustom}`}>{text}</Text>\n      </Row>\n    </Wrapper>\n  )\n}\n\nexport default ButtonOutline\n\nconst Wrapper = styled.button`\n  margin-left: 15px;\n`\nconst Text = styled.p`\n  margin: 0;\n  margin-left: 10px;\n  color: black;\n`\n\nconst Row = styled.div`\n  padding-left: 10px;\n  padding-right: 10px;\n`\n","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\n\nimport { useSelector } from 'react-redux'\n\nimport iconRecord from '../../assets/ic_record.png'\nimport iconUpload from '../../assets/ic_upload.png'\nimport iconWave from '../../assets/ic_wave.png'\n\nimport Button from '../../Shared/components/Button/Button'\nimport ButtonOutline from '../../Shared/components/Button/ButtonOutline'\n\nconst createMarkup = htmlString => {\n  return { __html: htmlString }\n}\n\nconst DangerousHTML = ({ htmlString }) => {\n  return (\n    <div\n      className='ux1-description'\n      dangerouslySetInnerHTML={createMarkup(htmlString)}\n    />\n  )\n}\n\nconst ButtonShowing = ({ onRecord }) => {\n  const connectedWs = useSelector(state => state.recognitionReducer.connectedWs)\n  return (\n    <Button\n      text='Ghi âm'\n      icon={iconRecord}\n      className={connectedWs ? 'btn--red' : 'btn--green'}\n      textCustom='text_green margin-left'\n      buttonCustom='button_green'\n      onClick={onRecord}\n    />\n  )\n}\n\nexport const SpeechRecognition = ({ onRecord }) => {\n  const textRedux = useSelector(state => state.recognitionReducer.text)\n\n  const [text, setText] = useState(textRedux)\n\n  // useEffect(() => {\n  //   // setText(textRedux)\n  // }, [textRedux])\n\n  return (\n    <section className=''>\n      <div className='margin-bottom-large'>\n        <h1 className='application__heading text-center margin-bottom-medium advantage__heading'>\n          Trải nghiệm\n        </h1>\n        <Wrapper className='container'>\n          <Row className='row'>\n            <Col className='col-lg-12 margin-bottom-medium main_so1'>\n              <div className='button-controller solution_1'>\n                <ButtonShowing onRecord={onRecord} />\n                {/* <Button\n                  text='Tải lên'\n                  icon={iconUpload}\n                  className='btn--green green margin-left'\n                  isMarginLeft\n                  textCustom='text_green'\n                  buttonCustom='button_green'\n                />\n                <ButtonOutline\n                  text='Mẫu file 1'\n                  icon={iconWave}\n                  id={1}\n                  classNameCss=' white'\n                  buttonCustom='button_white'\n                  textCustom='text_white'\n                />\n                <ButtonOutline\n                  text='Mẫu file 2'\n                  icon={iconWave}\n                  id={2}\n                  classNameCss=' white'\n                  buttonCustom='button_white'\n                  textCustom='text_white'\n                /> */}\n              </div>\n              <Col>\n                <div className='ux1-description-container'>\n                  <DangerousHTML htmlString={textRedux} />\n                </div>\n              </Col>\n            </Col>\n            {/* <Col className='col-lg-5 '> */}\n            {/* <Row className='margin-bottom-xs d-flex'>\n                <Input placeHolder='Enter Video URL' className='input' />\n                <button className='btn btn-danger ux1-play-btn'>Play</button>\n              </Row>\n              <iframe\n                className='youtube'\n                src='https://www.youtube.com/embed/E7wJTI-1dvQ'\n                frameBorder='0'\n                allow='autoplay; encrypted-media'\n                allowFullScreen\n                title='video'\n              /> */}\n            {/* </Col> */}\n          </Row>\n        </Wrapper>\n      </div>\n    </section>\n  )\n}\n\nconst Wrapper = styled.div``\n\nconst Row = styled.div`\n  margin-bottom: 2rem;\n`\n\nconst Intro = styled.p`\n  margin-top: 10px;\n  padding: 20px;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  min-height: 50vh;\n  clip-path: polygon(\n    0% 15%,\n    0 0,\n    15% 0%,\n    85% 0%,\n    85% 15%,\n    100% 15%,\n    85% 37%,\n    85% 85%,\n    85% 100%,\n    15% 100%,\n    0 100%,\n    0% 85%\n  );\n`\n\nconst Input = styled.input`\n  width: 70%;\n  border-radius: 7.38px;\n  outline: none;\n  border: none;\n`\n\nconst Col = styled.div``\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAAXNSR0IArs4c6QAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAADqADAAQAAAABAAAAGAAAAABxmHniAAABFUlEQVQ4Ee2U4XGCQBSEMeN/KcEOtJV0QAmWYAdJCXQQOpAS7EA7ECsg34d3zHETNI5/3Znn7b7dByeHFkWGvu9L6oc6hZKXWWwqDVAXKoe9+WHMOp9IdD29TaIIdUkwp5ckWixSYTLVOV+A2PuI5Nn1PXjniS05gRr/yJP+vpMbLfI7xKbw7ECrc6PznyHTmnj5OFZe7Z/wZb+6vSZszl9G5KE1WfTWodM4WAWxZ90G/teiZ0ZUw+4g50HeLmIgattye5UCHMevhNDo7IIvak2VoeT2hJntOCixQZ2pOehNh+IVMLzLjmqpCLk9n+ZjEByG55LLaBBs4Ol5bvToH2KGtePV/FSPfwUEOnQ6qJ/jyuCw5V8xWcXJn3d4ogAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADB/VeXAAAA2klEQVRIDe1V0Q2DIBCVxgEcpSO0k9SROgIjdARH6AjdoGxA3zNHQmiMd0I/arzkyWke78FxxK4zRIzRA6Nhip4q4hjmaGsCSa68jDYmUB1FOWQOKa8zKcTPmQHzOpNSnKeVDCSvM4EYBV4cKcjIDeT9izMTtz5KA43OSUOq4RwGq9X7/xL1aL0L9hmcc8/V/RoIohvT5Zk0cy33IHF3cAaa0mSca5ar0l7FEhIaYbLwyf35GbCL+ON4A4N1dUt8agGMwBI9gBtAk6U5W7977oBunm5Aq6DWHRg+l6BT3PpbzrMAAAAASUVORK5CYII=\"","import * as Actions from '../action-types'\n\nexport const updateAudioData = payload => {\n  return dispatch =>\n    dispatch({\n      type: Actions.GET_AUDIO,\n      payload\n    })\n}\n\nexport const updateSocket = payload => {\n  return dispatch =>\n    dispatch({\n      type: Actions.GET_SOCKET,\n      payload\n    })\n}\n\nexport const updateConnectedWS = payload => {\n  return dispatch =>\n    dispatch({\n      type: Actions.GET_CONNECTED_WS,\n      payload\n    })\n}\n\nexport const updateText = payload => {\n  return dispatch => \n    dispatch({\n      type: Actions.GET_TEXT,\n      payload\n    })\n}","import React, { Fragment, useEffect, useState } from 'react'\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport * as Actions from '../../redux/action-creators/recognition'\nimport { SpeechRecognition } from './SpeechRecognition'\n\nconst print = console.log\nconst SILENT_THRESHOLD = 1000\nconst SILENT_DURATION = 10\n\nconst API_URL = 'ws://103.74.122.136/asr/stream/socket/16k/client/ws/speech'\n\nlet isConnected = false\nlet result = null // xâu text đang nhận dạng\nlet isStop = true // có đang DỪNG record audio hay không\n\nlet recorder = null // đối tượng recorder\nlet buffer = null // có chuyển về local được không?\nlet audioContext = null // đối tượng audio context\nlet countSilentDuration = 0\n\nconst SendDataComponent = () => {\n  const recogRedux = useSelector(state => state.recognitionReducer)\n  useEffect(() => {\n    if (recogRedux.ws && recogRedux.ws.readyState === WebSocket.OPEN) {\n      // console.log(\"Send buffer\")\n      recogRedux.ws.send(recogRedux.audioData)\n    }\n  }, [recogRedux.audioData])\n  return null\n}\n\nconst TestSocket = () => {\n  console.log('TestSocket rendered')\n  const dispatch = useDispatch()\n  // const textRedux = useSelector(state => state.recognitionReducer.text)\n  // if (ws !== null) return null\n  let url =\n    API_URL +\n    '?content-type=audio/x-raw' +\n    ',+layout=(string)interleaved' +\n    ',+rate=(int)' +\n    '44100' +\n    ',+format=(string)S16LE' +\n    ',+channels=(int)1'\n\n  // eslint-disable-next-line no-undef\n  const websocket = new WebSocket(url)\n\n  websocket.onopen = () => {\n    // console.log('Socket channel connected')\n    isConnected = true\n    dispatch(Actions.updateSocket(websocket))\n  }\n\n  // Xử lý dữ liệu server trả về\n  websocket.onmessage = evt => {\n    const message = JSON.parse(evt.data)\n    // dispatch(Actions.updateText(message.result.hypotheses[0].transcript_normed))\n    dispatch(Actions.updateText(processJsonResponse(message)))\n    // console.log(message)\n  }\n\n  websocket.onclose = () => {\n    // console.log('Websocket closed')\n    // stop()\n  }\n  return <SendDataComponent />\n}\n\nexport const SocketRecognation = () => {\n  // console.log(\"SocketRecognation render\")\n  const dispatch = useDispatch()\n  // const audioRedux = useSelector(state => state.recognitionReducer.audioData)\n  const [ws, setWs] = useState(null)\n  const [connectWs, setConnectWs] = useState(false)\n  // useEffect(() => {\n  //   console.log(ws)\n  // }, [ws])\n  const [state, setState] = useState({\n    token: 'k-P-k03vy7MgQ0iV8ItD5oLrjh7CigLWMR1oCeP5QMGs461nNu07k-VzENKNQW-c'\n  })\n\n  /**\n   * Dừng record audio.\n   */\n  const stop = () => {\n    // Đánh dấu dừng\n    isStop = true\n\n    // $('#plain-text').scrollTop($('#plain-text')[0].scrollHeight)\n    // clearCanvas()\n  }\n\n  /**\n   * Đóng web socket.\n   */\n  const closeWS = () => {\n    if (ws && ws.readyState == ws.OPEN) {\n      ws.send('EOS')\n    }\n  }\n\n  const drawBuffer = data => {\n    // var canvas = document.getElementById(\"canvas\");\n    // var width = canvas.width;\n    // var height = canvas.height;\n    // var context = canvas.getContext('2d');\n    // context.clearRect (0, 0, width, height);\n    // var step = Math.floor(data.length / width);\n    // var amp = height / 2;\n    // var x = 0;\n    // var y = amp;\n    // context.strokeStyle = \"#FFFFFF\";\n    // context.beginPath();\n    // context.moveTo(x, y);\n    // for (var i = 0; i < width; i++) {\n    //     x = i;\n    //     // Tính giá trị y\n    //     var min = 1.0;\n    //     var max = -1.0;\n    //     for (var j = 0; j < step; j++) {\n    //         var datum = data[(i * step) + j];\n    //         if (datum < min) {\n    //             min = datum;\n    //         }\n    //         if (datum > max) {\n    //             max = datum;\n    //         }\n    //     }\n    //     y = ((min + max) / 2 + 1) * amp;\n    //     context.lineTo(x, y);\n    // }\n    // context.stroke();\n  }\n\n  const record = connectedWs => {\n    // console.log('click record')\n    if (connectedWs) {\n      // close websocket before stop\n      dispatch(Actions.updateAudioData('EOS'))\n    }\n    dispatch(Actions.updateConnectedWS(!connectedWs))\n\n    // Nếu đang xử lý thì dừng lại\n    // if (!isStop) {\n    //   closeWS()\n    //   stop()\n    //   return\n    // }\n    // console.log('Record func called')\n    // Khởi tạo audioContext\n    if (!audioContext) {\n      audioContext = new (window.AudioContext || window.webkitAudioContext)()\n      if (audioContext.state == 'suspended') {\n        audioContext.resume()\n      }\n      // if(isStop)\n\n      navigator.mediaDevices\n        .getUserMedia({ audio: true })\n        .then(stream => {\n          let audioInput = audioContext.createMediaStreamSource(stream)\n          let bufferSize = 2048\n          recorder = audioContext.createScriptProcessor(bufferSize, 1, 1)\n\n          // Xử lý dữ liệu audio\n          recorder.onaudioprocess = e => {\n            if (!isStop) {\n              // Nếu mà không nói lâu quá thì cũng dừng lại\n              //if (countSilentDuration > SILENT_DURATION) {\n              //    closeWS();\n              //    stop();\n              //    countSilentDuration = 0;\n              //    return;\n              //}\n\n              buffer = e.inputBuffer.getChannelData(0)\n              drawBuffer(buffer)\n              let int16ArrayData = convertFloat32ToInt16(buffer)\n              countSilentDuration +=\n                int16ArrayData.length / audioContext.sampleRate\n              for (let i = 0; i < int16ArrayData.length; i++) {\n                if (Math.abs(int16ArrayData[i]) > SILENT_THRESHOLD) {\n                  countSilentDuration = 0\n                  break\n                }\n              }\n\n              // Gửi dữ liệu lên server\n              // print(int16ArrayData)\n              // ws.send(int16ArrayData.buffer)\n              // console.log(\"Audio data\", int16ArrayData.buffer)\n              dispatch(Actions.updateAudioData(int16ArrayData.buffer))\n            }\n          }\n\n          audioInput.connect(recorder)\n          recorder.connect(audioContext.destination)\n        })\n        .catch(e => {\n          console.log('Error when getUserMedia')\n          console.log(e)\n        })\n    }\n\n    // Đánh dấu đang chạy\n    isStop = false\n    if (!connectWs) {\n      setConnectWs(true)\n    }\n\n    return null\n  }\n\n  const connectedWs = useSelector(state => state.recognitionReducer.connectedWs)\n  return (\n    <Fragment>\n      {connectedWs && <TestSocket />}\n      <SpeechRecognition onRecord={() => record(connectedWs)} />\n    </Fragment>\n  )\n}\n\nconst convertFloat32ToInt16 = float32ArrayData => {\n  let l = float32ArrayData.length\n  let int16ArrayData = new Int16Array(l)\n  while (l--) {\n    int16ArrayData[l] = Math.min(1, float32ArrayData[l]) * 0x7fff\n  }\n  return int16ArrayData\n}\n\nconst processJsonResponse = resp => {\n  if (resp.status == 0 && resp.result && resp.result.hypotheses.length > 0) {\n    //console.log(resp);\n    // Shorthand of conditional operator\n    let transcript =\n      resp.result.hypotheses[0].transcript_normed ||\n      resp.result.hypotheses[0].transcript\n    let text = transcript // decodeURI(\n    //console.log(text);\n\n    // Không nhận dạng được\n    if (text == '<unk>.') {\n      return\n    }\n\n    if (text.endsWith('.')) {\n      // Xóa ký tự cuối cùng của xâu\n      text = text.slice(0, -1)\n    }\n\n    if (resp.result.final) {\n      // Đã nhận dạng xong, lưu kết quả\n      result = '<span>' + text + '. </span>'\n      // displayText(result);\n      // result += text + '.'\n    } else {\n      // Vẫn đang nhận dạng\n      // displayText(result + '<span class=\"temp\">' + text + '</span>');\n      result = '<span class=\"temp\">' + text + '</span>'\n    }\n\n    return result\n  }\n}\n","import React from 'react'\nimport { SocketRecognation } from './WebSocket'\n\nexport const SpeechRecognitionContainer = () => {\n  return <SocketRecognation />\n}\n","import React from 'react'\n\nimport { Advantages } from '../../Shared/components/Advantages/Advantages'\nimport { Application } from '../../Shared/components/Application/Application'\nimport { SpeechRecognitionContainer } from './SpeechRecognationContainer'\n\nimport AppImage1 from '../../assets/giaiphap1_ungdung.png'\n\nimport Ad1 from '../../assets/solution2_img1.png'\nimport Ad2 from '../../assets/solution2_img2.png'\nimport Ad3 from '../../assets/solution2_img3.png'\n\nexport const Solution1 = () => {\n  const data = [\n    {\n      title: 'Thiết bị công nghệ thông minh',\n      content:\n        'Tích hợp vào các sản phẩm công nghệ thông minh, trở thành trợ lý đắc lực cho người dùng trong cuộc sống'\n    },\n    {\n      title: 'Ghi âm phỏng vấn, hội thảo',\n      content:\n        'Hỗ trợ phóng viên và các đơn vị, tổ chức có nhu cầu bóc tách băng ghi âm, ghi âm tại hội thảo, họp báo hay trong các cuộc phỏng vấn'\n    },\n    {\n      title: 'Hệ thống khám chữa bệnh',\n      content:\n        'Tích hợp vào các sản phẩm, dịch vụ tại các cơ sở y tế, giúp tiết kiệm nguồn nhân lực, thời gian và cải thiện chất lượng dịch vụ'\n    }\n  ]\n\n  const AdvantagesData = [\n    {\n      image: Ad1,\n      title: 'Độ chính xác cao',\n      content:\n        'Việc sử dụng các công nghệ tiên tiến trên thế giới như mạng nơron sâu kết hợp với các giải pháp cho đặc thù tiếng Việt, dịch vụ nhận dạng tiếng nói của chúng tôi cho kết quả nhận dạng với độ chính xác lên tới 96%'\n    },\n    {\n      image: Ad2,\n      title: 'Chịu tải cao',\n      content:\n        'Có thể đáp ứng tải lên tới hàng nghìn audio đầu vào tại cùng 1 thời điểm'\n    },\n    {\n      image: Ad3,\n      title: 'Linh hoạt cao',\n      content:\n        'Nhận dạng được tất cả các đầu vào khác nhau, như cuộc gọi ghi âm tổng đài hay dữ liệu ghi âm. Có khả năng dễ dàng tùy chỉnh theo các lĩnh vực khác nhau'\n    }\n  ]\n\n  return (\n    <React.Fragment>\n      <div className='bg-second-cl'>\n        <SpeechRecognitionContainer />\n      </div>\n\n      <Advantages data={AdvantagesData} />\n      <div className='bg-second-cl2'>\n        <Application\n          sectionTitle='Ứng dụng thực tế'\n          image={AppImage1}\n          data={data}\n        />\n      </div>\n    </React.Fragment>\n  )\n}\n","export { Solution1 as default } from './Solution1'\n","module.exports = __webpack_public_path__ + \"static/media/giaiphap1_ungdung.98b8ec8d.png\";","module.exports = __webpack_public_path__ + \"static/media/solution2_img1.50720324.png\";","module.exports = __webpack_public_path__ + \"static/media/solution2_img2.c9b95c1e.png\";","module.exports = __webpack_public_path__ + \"static/media/solution2_img3.5a256730.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADB/VeXAAAA7klEQVRIDe1VyxECIQwNjP2onWgNzh78FuP3sGMN2olrQ+BmMTNRCBo8OcolmSQvDxIIAIpVzZdNNVtdFBDoaYIBTB+MDqEk8Fdd+p+LLmoygsAbX+/Xw9cVe7/JlLdtsgyaTBcja+3JOTc+HrZnvoGcL8SFvJaDnnVj7ABtJLmfbCS5j+sRQUmdMaGES7wDuWR8Z7GexkUniIGfWb6fINGD0nmTxkUE9W7TXU1t5SVctgfeuwaJSHJSspHkPq63J0gfDYPurzf5A+R8gUDOyzfwoHePCWfXf0kVkOaNFI/26JrmgnOjXcIpCfQ34wa1rVfn0nvYzQAAAABJRU5ErkJggg==\"","import React from 'react'\nimport styled from 'styled-components'\n\nexport const Advantages = ({ data = [] }) => {\n  const AdvantageItem = data.map(({ image, title, content }, index) => (\n    <div\n      className='advantage-item col-md-4 d-flex flex-column align-items-center flex-row'\n      key={index}\n    >\n      <div className='margin-bottom-medium'>\n        <Img src={image} alt='Advantage item image' />\n      </div>\n\n      <div className='advantage-item__content d-flex flex-column align-items-center align-items-start margin-left-2'>\n        <div className='advantage-item__heading margin-bottom-small'>\n          {title}\n        </div>\n        <p className='advantage-item__description text-center'>{content}</p>\n      </div>\n    </div>\n  ))\n\n  return (\n    <div className='border--top'>\n      <div className='container margin-bottom-large'>\n        <h1 className='advantage__heading margin-bottom-big'>Ưu điểm</h1>\n        <div className='row'>{AdvantageItem}</div>\n      </div>\n    </div>\n  )\n}\n\nconst Img = styled.img`\n  max-width: 35rem;\n  max-height: 35rem;\n`\n"],"sourceRoot":""}